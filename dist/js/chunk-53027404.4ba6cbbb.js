(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53027404"],{"2b8e":function(e,t,i){"use strict";i("dd62")},dd62:function(e,t,i){},f8a3:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h2",[e._v("Add Your Own Recipes!"),i("br"),i("br"),i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],attrs:{squared:"",variant:"outline-secondary","b-button":"",size:"lg"}},[i("b",[e._v("Create New Recipe")])])],1),i("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing",title:"Submit Your Recipe Details"},on:{show:e.resetModal,hidden:e.resetModal,ok:e.handleOk}},[i("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[i("b-form-group",{attrs:{label:"Recipe title","label-for":"title","invalid-feedback":"Title is required",state:e.titleState}},[i("b-form-input",{attrs:{id:"title",placeholder:"Enter title",state:e.titleState,required:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),i("b-form-group",{attrs:{label:"Preparation time","label-for":"time","invalid-feedback":"Preparation time is required",state:e.timeState}},[i("b-form-input",{attrs:{id:"time",type:"number",state:e.timeState,required:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),i("label",{attrs:{for:"myCheck"}},[e._v("Vegan")]),e._v(" "),i("input",{attrs:{type:"checkbox",id:"vegan"}}),i("br"),i("label",{attrs:{for:"myCheck"}},[e._v(" Vegetarian ")]),e._v(" "),i("input",{attrs:{type:"checkbox",id:"vegetarian"}}),i("br"),i("label",{attrs:{for:"myCheck"}},[e._v(" Gluten Free ")]),e._v(" "),i("input",{attrs:{type:"checkbox",id:"glutenFree"}}),i("br"),i("br"),i("b-form-group",{attrs:{label:"Number of servings:","label-for":"servings","invalid-feedback":"Number of serving is required",state:e.servingsState}},[i("b-form-input",{attrs:{id:"servings",type:"number",min:"1",placeholder:"Enter number of servings",state:e.servingsState,required:""},model:{value:e.servings,callback:function(t){e.servings=t},expression:"servings"}})],1),i("b-form-group",{attrs:{label:"Picture of the dish:","label-for":"image",state:e.imageState}},[i("b-form-input",{attrs:{id:"image",state:e.imageState,required:""},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}})],1),i("b-form-group",{attrs:{label:"Enter ingredients","label-for":"extendedIngredients","invalid-feedback":"Ingredients is required",state:e.extendedIngredientsState}},[i("b-form-input",{attrs:{id:"extendedIngredients",placeholder:"For exemple: 3 eggs, 1 cup of sugar..",state:e.extendedIngredientsState,required:""},model:{value:e.extendedIngredients,callback:function(t){e.extendedIngredients=t},expression:"extendedIngredients"}})],1),i("b-form-group",{attrs:{label:"Enter instructions","label-for":"analyzedInstructions","invalid-feedback":"Instructions is required",state:e.analyzedInstructionsState}},[i("b-form-input",{attrs:{id:"analyzedInstructions",placeholder:"For exemple: Mix it all up, Enjoy..",state:e.analyzedInstructionsState,required:""},model:{value:e.analyzedInstructions,callback:function(t){e.analyzedInstructions=t},expression:"analyzedInstructions"}})],1)],1)])],1)},a=[],s=i("1947"),r=i("6aac"),l=i("e6c7"),o=(i("4362"),{components:{BButton:s["a"],BModal:r["a"]},directives:{"b-modal":l["a"]},data(){return{componentKey:0,submitError:void 0,title:"",titleState:null,time:"",timeState:null,vegan:!1,vegetarian:!1,glutenFree:!1,servings:"",servingsState:null,analyzedInstructions:"",analyzedInstructionsState:null,imageState:null,aggregateLikes:"0",image:"",extendedIngredients:"",extendedIngredientsState:null}},methods:{checkFormValidity(){const e=this.$refs.form.checkValidity(),t=document.getElementById("title");t.checkValidity()||(this.titleState=!1);const i=document.getElementById("time");i.checkValidity()||(this.timeState=e);const n=document.getElementById("servings");n.checkValidity()||(this.servingsState=!1);const a=document.getElementById("extendedIngredients");a.checkValidity()||(this.extendedIngredientsState=!1);const s=document.getElementById("analyzedInstructions");return s.checkValidity()||(this.analyzedInstructionsState=!1),e},resetModal(){this.title="",this.titleState=null,this.time="",this.timeState=null,this.servings="",this.servingsState=null,this.vegan=!1,this.vegetarian=!1,this.glutenFree=!1,this.image="https://spoonacular.com/recipeImages/2221-556x370.jpg",this.imageState=null,this.analyzedInstructions="",this.analyzedInstructionsState=null,this.extendedIngredients="",this.extendedIngredientsState=null},handleOk(e){e.preventDefault(),console.log("-------submit-------"),this.handleSubmit()},handleSubmit(){this.checkFormValidity()?(this.createMyRecipe(),this.$nextTick(()=>{this.$bvModal.hide("modal-prevent-closing")})):console.log("not")},async createMyRecipe(){try{console.log("time: ",this.time),console.log("Likes: ",this.aggregateLikes);var e=document.getElementById("vegan"),t=document.getElementById("vegetarian"),i=document.getElementById("glutenFree");const n=await this.axios.post("https://allrecipes.cs.bgu.ac.il/users/add_personal_recipe",{title:this.title,readyInMinutes:this.time,image:this.image,aggregateLikes:this.aggregateLikes,vegan:e.checked,vegetarian:t.checked,glutenFree:i.checked,servings:this.servings,analyzedInstructions:this.analyzedInstructions,extendedIngredients:this.extendedIngredients});console.log("Add personal recipe",n),this.componentKey+=1}catch(n){console.log("error123: ",n.response),this.submitError=n.response.data.message}}}}),d=o,c=(i("2b8e"),i("2877")),u=Object(c["a"])(d,n,a,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-53027404.4ba6cbbb.js.map